{% extends "base.html" %}
{% block title %}Access Lister{% endblock %}
{% block content %}


<div class="dropdown container mt-5">
    <h1 class="text-center">Access Lister</h1>
    <form method="POST">

        <button type="submit" class="btn btn-primary" name="extended_button" value="extended_button">Extended</button>
        <button type="submit" class="btn btn-primary" name="standard_button" value="standard_button">Standard</button>
        <br>

        <label for="access_list_name">Access List Name</label>
        <input type="text" name="access_list_name" id="access_list_name" class="form-control" value={% if access_list_name != None %} "{{ access_list_name }}" {% else %} "" {% endif %}>
        <br>
        
            <label for="permit_or_deny">Permit or deny</label>
            <select class="form-select" aria-label="Default select example" name="permit_or_deny">
                <option {% if permit_or_deny == None %} selected {% endif %} value=""></option>
                <option {% if permit_or_deny == 'permit' %} selected {% endif %} value="permit">Permit</option>
                <option {% if permit_or_deny == 'deny' %} selected {% endif %} value="deny">Deny</option>
            </select>
            <br>

        {% if extended_access | default(False) %}
        <label for="protocols">Protokoller</label>
        <select class="form-select" aria-label="Default select example" name="protocols" >
            
            <option {% if protocols == None %} selected {% endif %} value=""></option>
            {% for protokol in ['ahp', 'eigrp', 'gre', 'icmp', 'igmp', 'ip', 'ipinip', 'nos', 'ospf', 'pcp', 'pim', 'tcp', 'udp'] %}
            <option {% if protocols == protokol %} selected {% endif %} value="{{ protokol }}">{{ protokol }}</option>
            {% endfor %}
        </select>
        <br>

        <label for="custom_protocols">Tast selv protokol (0-255)</label>
        <input type="text" name="custom_protocols" id="custom_protocols" class="form-control" value={% if custom_protocols != None %} "{{ custom_protocols }}" {% else %} "" {% endif %}>
        <br>

        <label for="source">Source</label>
        <select class="form-select" aria-label="Default select example" name="source">
            <option {% if source == None %} selected {% endif %} value=""></option>
            <option {% if source == 'any' %} selected {% endif %} value="any">any</option>
            <option {% if source == 'host' %} selected {% endif %} value="host">host</option>
        </select>
        <br>

        <label for="destination">Destination</label>
        <select class="form-select" aria-label="Default select example" name="destination">
            <option {% if destination == None %} selected {% endif %} value=""></option>
            {% for dest in ['any', 'eq', 'gt', 'host', 'lt', 'neq', 'range'] %}
                
                <option {% if destination == dest %} selected {% endif %} value="{{ dest }}">{{ dest }}</option>
            {% endfor %}
        </select>
        <br>
        
            {% if (destination | default('')) == '' %}  
            <button type="submit" class="btn btn-primary" name="next_button" value="next_button">NÃ¦ste</button>
            
            {% elif (destination | default('')) == 'any' %}
            
            <label for="packet">Packet pis</label>
            <select class="form-select" aria-label="Default select example" name="packet">
                <option value=""></option>
                {% for packet in ['dscp', 'eq', 'fragments', 'gt', 'log', 'log-input', 'lt', 'neq', 'option', 'precedence', 'range', 'time-range', 'tos'] %}
                <option value="{{ packet }}">{{ packet }}</option>
                {% endfor %}

            </select>
            
            {% elif (destination | default('')) == 'host' %}
                
                <label for="host_pis">Host</label>
                <input type="text" name="host_pis" id="host_pis" class="form-control" value="">
            {% elif (destination | default('')) != 'any' or (destination | default('')) != 'host' %}
                <label for="port">Port (0-65535)</label>
                <input type="text" name="port" id="port" class="form-control" value="">
            
            {% endif %}
        {% else %}
            <label for="any_or_host">Any or host</label>
            <select class="form-select" aria-label="Default select example" name="any_or_host">
                <option {% if any_or_host == None %} selected {% endif %} value=""></option>
                <option {% if any_or_host == 'any' %} selected {% endif %} value="any">Any</option>
                <option {% if any_or_host == 'host' %} selected {% endif %} value="host">Host</option>
            </select>
        
        <br>
        <label for="hostname">Hostname</label>
        <input type="text" name="hostname" id="hostname" class="form-control" value={% if hostname != None %}"{{ hostname }}" {% else %} "" {% endif %}>
        <br>

        {% endif %}
        
        <button type="submit" class="btn btn-primary" name="save_button" value="save_button">Save</button>
    </form>
</div>


{% endblock %}